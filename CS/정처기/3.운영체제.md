# 운영체제

-------------------

## 운영체제 기초

### 기억장치

* 개념
  * 데이터, 프로그램, 연사의 중간 결과 등을 일시적 영구적으로 저장하는 장치
* 종류
  * 레지스터
    * 중앙처리장치(CPU) 내부에 위치
    * 접근 시간이 CPU 처리 속도와 매우 유사
  * 캐시 메모리
    * CPU 와 주 기억 장치 사이의 속도 차이를 줄이기 위해 사용
    * 실행중인 프로그램의 자주 사용되는 명령어와 데이터 저장
  * 주 기억 장치(메인 메모리)
    * CPU 가 직접 접근하여 데이터를 읽고 쓸수 있는장치
    * 종류
      * ROM(Read Only Memory)
        * 읽기 전용 메모리
        * 전원이 꺼져도 데이터가 유지
        * mask ROM, PROM, EPROM, EEPROM, Flash Memory
      * RAM(Random Access Memory)
        * 기억 장소를임의로 접근할수 있는 메모리
        * 읽기/쓰기가 가능한 메모리
        * 전원이 꺼지면 데이터가 사라짐
        * SRAM
          * 전원이 공급되는 중에 내용이 사라지지 않음(캐쉬 메모리)
        * DRAM
          * 일반적인 주기억 장치
          * 일정 시간이 지나면 내용이 사라지는 RAM
  * 연관 메모리
    * 주소에 의해 접근하지 않고 기억된 내용의 일부를 이용하여 Access 할수 있는 기억 장치
    * 내용에 기반한 검색을 허용함으로써 검색 속도 제공
    * 캐시 메모리나 가상 메모리 관리 기법에서 사용하는 Mapping Table 이 연관 메모리 적용
  * 보조 기억 장치
    * 주 기억 장치에 비해 접근 시간은 느리지만 기억 용량이 크다
    * 종류
      * SDD(Solid State Drive)
        * 구조
          * 기계적인 움직임이 없는 반도체 기반의 저장 장치
          * NAND 기반의 플래시 메모리 칩을 사용하여 데이터를 저장
        * 속도
          * HDD 에 비해 훨씬 빠른 읽기 및 쓰기 속도
          * 데이터 접근 시간이 짧고 기계적인 부품이 없어 빠른 데이터 전송 가능
        * 내구성
          * 움직이는 부품이 없어 충격에 강함
          * 안정적
        * 소음/발열
          * 기계적인 부품이 없어 소음이 적고 발열이 낮음
        * 에너지 효율
          * 낮은 전력을 사용하여 배터리 수명연장하는데 도움
      * HDD
      * CD
      * USB
      * 플로피 디스크

### 시스템 소프르웨어

* 개념
  * 시스템 소프트웨어는 응용 소프트웨어를 실행하기 위한 플랫폼 제공
  * 컴퓨터 하드웨어의 작동과 접근을 관리
* 종류
  * 로더
    * 프로그램을 메모리에 적재하고 실행 준비
  * 링커
    * 목적 파일을 실행 파일로 변환
  * 유틸리티
    * 하드웨어, 운영체제, 응용소프트웨어 관리 지원
  * 번역기(컴파일러, 어셈블러)
    * 특정 프로그래밍 언어를 다른 언어로 변환
  * 장치 드라이버
    * 특정 하드웨어나 장치를 제어
  * 운영체제
    * 하드웨어 관리와 통신등 다양한 기능 제공
* 구성
  * 제어 프로그램
    * 감시프로그램
    * 작업관리 프로그램
    * 데이터관리 프로그램
  * 처리 프로그램
    * 서비 스프로그램
    * 문제 프로그램
    * 언어 번역 프로그램

### 운영체제

* 개념
  * 응용프로그램이 하드웨어를 제어하여 실행될수 있도록 관리하는 소프트웨어
  * 자원을 효율적으로 관리하며 컴퓨터를 편리하게 사용할수 있는 환경 제공
* 특징
  * 여러 프로그램을 충돌없이 동시에 실행할수 있게 관리
  * 하드웨어와 프로그램 사이 인터페이스 역활
* 기능
  * 프로세스 관리
  * 메모리 관리
  * 파일관리
  * 입출력 관리
  * 보조 기억 장치 관리
  * 네트워킹
  * 정보보안
  * 명령 해석 시스템
* 운용기법
  * 일괄처리 시스템(Batch Processing System)
    * 여러 작업 묶어서 처리
  * 실시간 처리 시스템(Real Time Processing System)
    * 요청 실행을 즉시 수행
  * 다중 프로그래밍 시스템(Multiprogramming System)
    * 하나의 작업이 입출력 중일때 다른 작업을 처리
    * 하나의 CPU 로 동시에 여러 프로그램이 실행되는것 처럼 보인다.
  * 시분할 시스템(Time Sharing System)
    * 정해진 시간동안 작업 실행
  * 다중 처리 시스템(Multiprocessing System)
    * 여러 CPU 를 이용해 동싱 여러 작업을 처리
    * 병렬 처리 시스템(Parallel Processing System)이라고 한다
  * 다중 모드 시스템(Multimode System)
    * 다양한 운용 기법을 혼합 하여 사용
  * 분산 처리 시스템(Distributed Processing System)
    * 여러 독립된 시스템이 통신으로 연결되어 상호 작용
* 성능 평가 기준
  * 처리량
    * 일정시간 내 처리하는 작업량
  * 반환시간
    * 작업 요청 부터 결과 반환까지 시간
    * 대기시간 + 실행시간 + 응답시간
  * 신뢰도
    * 작업 결과의 정확도 및 신뢰성
  * 사용가능도
    * 시스템의 즉시 사용가능한 정도
  * 확장성
    * 시스템이 증가하는 부하나 요구 사항에 맞춰 적절히 확장되는 능력
  * 보안
    * 시스템 외부 위협으로부터 보호하는 능력
  * 자원 활용도
    * 시스템 자원을 얼마나 효과적으로 사용되는지

### 운영체제 종류

* 윈도우(Windows)
  * MS 에서 개발한 MS-DOS 에 멀티태스킹 기능과 GUI 환경 제공
  * 윈도우 95부터 98, ME, XP, 7, 8, 10 까지 다양한 버전 출시
  * 특징
    * GUI 제공
    * 선점형 멀티태스킹 방식
    * 자동감지 기능 제공
    * OLE(Object Linking and Embedding) 지원
* 리눅스(Linux)
  * 1991년 리눅스 토발즈에 의해 개발된 오픈소스 유닉스 호환 운영체제
  * 특징
    * 다중 사용자 시스템
    * 오픈 소스
    * 파일 시스템
    * 이식성/유연성/확장성
    * 다양한 배포판
  * 장점
    * 유닉스와 완벽하게 호환
    * 공개 운영체제
    * 안정적
  * 단점
    * 기술 지원 부족
    * 숙련된 사용자 기술 필요
    * 한글 입출력 어려움
* 유닉스
  * 1969년 미국 AT&T 벨 연구소에서 켄 톰슨이 개발한 운영체제
  * 처음엔 어셈블리 언어로 개발
  * 1972년 C 언어로 데니스리치가 다시 작성
  * 현대적 컴퓨터 운영체제의 원형
  * 윈도우를 제외 macOS, IOS 등 많은 운영체제 기반
  * 특징
    * 시분할 시스템
    * 이식성
    * 다중 사용자 및 작업 지원
    * 네트워킹
    * 파일시스템
    * 개발 용이성
    * 다양한 유틸리티 프로그램
  * 구성
    * 커널(Kernel)
      * UNIX 시스템의 핵심 부분
      * 컴퓨터가 부팅될떄 주 기억장치에 적재된 후 상주하면서 실행
      * 다양한 시스템 관리 기능 수행
    * 쉘(Shell)
      * 명령어 해석기
      * 사용자와 커널 사이의 인터페이스
      * 고용 Shell 이나 사용자가 만든 Shell 사용가능
    * 유틸리티 프로그램
      * 일반 사용자가 작성한 응용 프로그램을 처리하는데 사용
      * 에디터, 컴파일러, 디버거, 정적분석기, 유틸리티 프로그램 등
  * 파일 시스템 특징
    * 트리구조
      * 유닉스 파일시스템은 트리구조 가짐
    * 파일처리
      * 디렉토리와 주변 장치도 파일로 취급
      * 파일 생성 및 삭제 보호 기능 포함
    * 파일형식
      * 일반파일, 디렉토리, 파일, 특수 파일 형태를 제공
  * 파일 시스템 구조
    * 부트블록
      * 부팅시 필요한 정보를 가지고 있는 블록
    * 슈퍼블록
      * 파일 시스템의 전반적인 정보를 가지고 있는 블록
    * I-Node 블록
      * 파일의 메타 정보를 가지고 있는 블록
    * 데이터 블록
      * 실제 데이터를 가지고 있는 블록
  * 파일 디스크립터(File Descriptor)
    * 유닉스 시스템에서 프로세스 파일에 접근할때 사용
    * 파일 제어 블로 이라고 한다
    * 필요한 파일 관리 정보를 포함
    * 보조기억장치에 저장되어 있으며 파일이 열리면 주 기억장치로 이동
    * 파일마다 독립적 존재
    * 사용자 직접 참조할수 없다
  * POSIX(Portable Operating System Interface)
    * 이식 가능한 운영체제 인터페이스
    * 서로다른 UNIX OS 의 공통 API 제공
    * 이식성 높은 유닉스 응용 프로그램을 개발하기 위한 목적으로 IEEE 가 책정한 애플리케이션 인터페이스 규격
* MacOS
  * 애플에서 개발한 유닉스 기반 운영체제

### 운영체제별 파일시스템

* 개념
  * 컴퓨터 시스템에서 데이터를 저장하고 검색하는 방법을 정의하는데 사용되는 구조와 규칙의 집합
* 역활
  * 데이터 저장 구조화
  * 데이터관리
  * 보안및 접근제어
  * 데이터 무결성 및 복구
* 운영체제별 파일시스템
  * WINDOW
    * NTFS(New Technology File System)
      * 대용량 드라이브와 큰 파일 지원
      * 파일 암호화 및 보안 기능
      * 저널링 기능으로 시스템 충돌후 복구 지원
    * FAT32(File Allocation Table 32)
      * 단순한 구조로 넓은 호환성 제공
      * 4GB 이상 파일 저장 불가
      * 구형 시스템 및 휴대용 드라이브에서 사용
  * MacOS
    * APFS(Apple File System)
      * 최적화된 저장 공간 관리
      * 강력한 암호화 및 보안 기능
      * 스냅샷 및 클론 기능
    * HFS+(Hierarchical File System Plus)
      * macOS 에서 이전 버전에서 널리 사용
  * Linux
    * Ext4(Extended File System 4)
      * 대용량 파일 지원
      * 저널링 기능으로 데이터 손실 방지
      * 파일 시스템 체크 및 복구 속도 개선
    * Btrfs(B-tree File System)
      * 스냅샷 및 데이터 복제 기능
      * 동적 볼륨 관리 및 온라인 파일 시스템 조정기능
      * 고급 데이터 보호및 복구 기능
  * UNIX
    * UFS(Unix File System)
      * 저널링 기능으로 데이터 손실 방지
      * 파일 시스템 체크 및 복구 속도 개선

### 운영체제 명령어

* WINDOW
  * CMD : 명령 프롬프트 실행
  * DIR : 현재 디렉토리 목록 표시
  * CD : 디렉토리 변경
  * COPY : 파일 복사
  * DEL : 파일 삭제
  * MOVE : 파일 이동
  * REN : 파일 이름 변경
  * MD : 디렉토리 생성
  * CLS : 화면 지우기
  * CHKDSK : 디스크 검사
  * FORMAT : 디스크 포맷
  * CALL : 다른 프로그램이나 배치 파일 실행
  * ATTRIB : 파일 속성 변경
  * FIND : 파일 내용 검색
* UNIX
  * access : 파일 접근 가능 여부 결정
  * chmod : 파일 권한 변경
  * close : 파일 닫기
  * chgrp : 파일 그룹 변경
  * chown : 파일 소유자 변경
  * chdir : 디렉토리 변경
  * mkdir : 디렉토리 생성
  * rmdir : 디렉토리 삭제
  * mount : 파일 시스템 마운트
  * unmount : 파일 시스템 언마운트
  * exit : 쉘 종료
  * kill : 프로세스 종료
  * fork : 프로세스 생성
  * getuid : 사용자 ID 반환
  * getppid : 부모 프로세스 ID 반환
  * sleep : 일정 시간동안 대기
  * uname : 시스템 정보 반환
  * ps : 프로세스 목록 표시
  * exec : 새로운 프로그램 실행
  * vi : 파일 편집기 실행
  * cat : 파일 내용 표시
  * rm : 파일 삭제
  * cp : 파일 복사
  * mv : 파일 이동
  * grep : 파일 내용 검색
  * ls : 디렉토리 목록 표시
  * du : 디스크 사용량 표시
  * finger : 사용자 정보 표시
* Linux, Unix 파일 접근 권한 관리
  * 권한별 값
  * r : 읽기 : 4
  * w : 쓰기 : 2
  * x : 실행 : 1
  * \- : 권한 없음 : 0
* 권한변경
  * chmod 0751 file명
    * 소유자 : 읽기, 쓰기, 실행
    * 그룹 : 읽기, 실행
    * 기타 : 실행
  * chmod 775 file명
    * 소유자 : 읽기, 쓰기, 실행
    * 그룹 : 읽기, 쓰기, 실행
    * 기타 : 읽기, 실행
* umask(접근 권한 마스크)
  * 새로 만들어질 파일 및 데렉토리에 대한 기본권한 설정
  * umask 로 지정한 8진수는 새로 만들어질 파일에서 제거될 권한 명시
  * umask 022
    * 파일 : 644
    * (소유주 : 읽기, 쓰기/그룹 : 읽기/기타 : 읽기)
    * 디렉토리 : 755
    * (소유주 : 읽기, 쓰기, 실행/그룹 : 읽기, 실행/기타 : 읽기, 실행)
* chown(소유주 변경)
  * chown 소유주명 파일명

--------------------------------------

## 메모리 관리

### 기억장치 관리 전략

* 개념
  * 보조기억장치에 저장된 프로그램이나 데이터를 주기억 장치에 언제 어디에 적재할지 결정하는 방법
* 전략
  * 반입전략(Fetch)
    * 보조기억장치에 보관중인 프로그램이나 데이터를 언제 주기억 장치로 적재할 것인지를 결정
    * 요구 반입
      * 실행중인 프로그램이 특정 데이터를 필요로 할때 해당 데이터를 주 기억 장치로 적재
    * 예상 반입
      * 실행중인 프로그램이 미래에 참조할것을 예상되는 데이터를 미리 주 기억 장치로 적재
  * 배치전략(Placement)
    * 주기억장치에 여러 프로그램이나 데이터가 적재될때 어디에 적재할것인지를 결정
    * 최초 적합
      * 사용가능한 첫번쨰 분할 영역에 프로그램이나 데이터 배치
    * 최적 적합
      * 단편화를 최소화하는 분할영역에 배치
    * 최악 적합
      * 단편화를 최대화하는 분할 영역에 배치
  * 교체(Replacement)
    * 이미 사용중인 주 기억 장치 영역중에서 새로운 프로그램이나 데이터를 위해 어떤 영역을 교체할지 결정하는 전략
    * FIFO(First In First Out)
      * 먼저 들어온 것을 먼저 내보내는 방식
    * LRU(Least Recently Used)
      * 가장 오랫동안 참조되지 않은 것을 내보내는 방식
    * LFU(Least Frequently Used)
      * 가장 적게 참조된 것을 내보내는 방식
    * NUR(Not Used Recently)
      * 최근에 사용되지 않은 것을 내보내는 방식
    * OPT(Optimal)
      * 가장 오랫동안 참조되지 않을것으로 예상되는 것을 내보내는 방식
    * SCR(Second Chance)
      * FIFO 와 LRU 를 혼합한 방식

### 주 기억장치 할당 기법

* 단일분할 할당기법
  * 한 사용자만이 사용하는 가장 단순한 기법
  * 경계 레지스터를 사용해 운영체제와 사용자 영역을 구분
  * 주 기억장치보다 큰 프로그램을 실행하기 위해 오버레이 기법과 스와핑 기법이 있다.
  * 오버레이
    * 보조기억장치에 저장된 프로그램을 여러개의 조각으로 분할
  * 스와핑
    * 하나의 프로그램 전체를 주 기억장치에 할당하여 사용하다가 필요에 따라 다른 프로그램과 교체하는 기법
* 다중분할 할당 기법
  * 주 기억장치를 여러 영역으로 나누어 프로그램을 할당
  * 고정분할과 가변분할 기법이 있다

### 단편화

* 개념
  * 주 기억장치에 프로그램 할당과 반납 과정에서 발생하는 빈 공간
* 종류
  * 내부단편화
  * 외부단편화
* 해결방법
  * 통합기법
    * 인접한 두개의 빈 분할 공간을 하나로 통합하여 메모리의 효율성을 높이는 작업
  * 압축기법
    * 주 기억장치 내에 분산된 여러 단편화된 공간들을 하나의 큰 빈공간으로 만드는 작업
    * 가비지콜렉션 기법이라고 한다
  * 재배치기법
    * 압축과정에서 프로그램의 주소를 새롭게 지정해주는 기법

--------------------------------------

## 가상기억장치

### 가상기억장치

* 개념
  * 보조기억장치의 일부를 주 기억장치 처럼 사용하는 기법
  * 주기억장치의 용량이 작더라도 가상의 기억장치를 통해 큰 용량처럼 사용할수 있다.
* 블록분할방법
  * 페이징 기법
    * 가상기억장치를 모두 같은 크기의 블록으로 평성하여 운용하는 기법
    * 외부단편화는 발생하지 않으나 내부 단편화는 발생
    * 가상메모리를 페이지로 물리메모리를 프레임으로 나누며, 주소 변환을 위해 페이지 맵 테이블이 필요하다