# 정보보안

------------------------------

## SW 개발 보안 설계

### 정보보안

* 개념
  * 정보 및 정보 시스템을 무단 접근, 변경, 삭제 등으로부터 보호
* 요소
  * 기밀성
    * 인가된 사용자만 정보에 접근
    * 방화벽, 암호화
  * 무결성
    * 정보가 인가된 사용자에 의해서만 변경
  * 가용성
    * 정보에 언제든지 접근 가능하게 하는것
  * 인증
    * 사용자가 허가받은 사용자인지 확인
  * 부인방지
    * 정보를 보낸 사람이 나중에 정보전송을 부인할수 없게 하는것
* AAA(Authorization, Authentication, Accounting)
  * 인증
    * 사용자 신원 확인
  * 권한 부여
    * 검증된 사용자에게 특정 수준 권한과 서비스를 허용
  * 계정관리
    * 사용자의 자원 사용정보를 수집하여 과금, 감사, 용량 증설, 리포팅 등에 활용
* 정보보안 거버넌스
  * 정의
    * 조직의 정보자산을 보호하기 위해 관리, 감독
  * 특징
    * 전략적 방향을 제시
  * 거버넌스 3요소
    * 데이터 무결성
      * 데이터의 정확성과 일관성 보장
    * 서비스 연속성
      * 비즈니스 연속성 계획 및 재해복구 전략
    * 정보자산의 보호
      * 정보자산을 무단 접근, 도용, 손상으로 보호
* 인증제도
  * ISMS(정보보호 관리 체계인증)
    * 정보통신망의 안전성 확보를 위한 종합적인 정보보호 관리 체계인증
  * PMS(개인정보보호 관리체계)
    * 기관및 기업이 개인정보를 체계적 지속적으로 보호하는지 인증
  * ISMS-P(정보보호 및 개인정보 보호 관리 체계 인증)
    * 정보보호 및 개인정보에 대한 조치와 활동이 인증 기준에 적합한지 인증
  * ITSEC(International Trusted Security Evaluation Criteria)
    * 유럽에서 만든 정보보호 제품의 신뢰성 평가를 위한 국제 표준
  * TCSEC(Trusted Computer System Evaluation Criteria)
    * 미국에서 만든 컴퓨터 시스템의 보안성을 평가하기 위한 기준
  * CC(Common Criteria)
    * 국구 별로 상이한 기준 통합 하여 정보보호 제품의 보증 수준을 평가하기 위한 국제 표준

### SECURE SDLC

* 개념
  * SDLC 에 보안 강화 프로세스를 포함한것
* 방법론
  * CLASP(Comprehensive, Lightweight Application Security Process)
    * SDLC 초기 단계에서 보안 강화를 위한 방법론
  * MS-SDL
    * 마이크로소프트가 개발한 안전한 소프트웨어 개밥ㄹ을 위한 방법론
  * Seven Touchpoints
    * 소프트웨어 보안의 모범사례를 SDLC에 통합한 방법론
* 단계별 보안 활동
  * 요구사항 분석
    * 보안 요구사항 식별
  * 설계
    * 요구사항 반영, 설계서 작성
  * 구현
    * 표준 코딩 정의서 준수
  * 테스트단계
    * 보안 설계서 바탕으로 보안 점검
  * 유지보수 단계
    * 보안 사고 대응

### 시큐어 코딩

* OWASP(the Open Web Application Security Project)
  * 오픈소스 웹 애플리케이션 보안 프로젝트
  * 웹 애플리케이션 보안 취약점 연수
* 시큐어코딩 가이드
  * 입력데이터 검증및 표현   
    * 프로그램 입력값에 대한 검증 누락이나 부적절한 검증, 데이터 형식 지정 오류 등으로 인한 보안 약점
    * 종류
      * SQL Injection
        * 악의적 SQL문을 주입하여 데이터베이스를 비정상적으로 조작
      * XSS(Cross Site Scripting)
        * 웹사이트에 스크립트를 삽입하여 사용자의 정보를 탈취
      * 자원삽입
        * 외부 입력값이 시스템 자원 접근 경로 또는 자원 제어 사용
      * 위험한 형식 파일 업로드
        * 서버측에서 실행 가능한 스크립트 파일 업로드
      * 명령삽입
        * 운영체제 명령어 삽입
      * 메모리 버퍼 오버플로우
        * 입력값으로 인해 버퍼가 넘쳐 다른 메모리 공간 침범
  * 보안 기능
    * 적절한 인증없이 중요기능허용
    * 종류
      * 부적절한 인가
      * 취약한 암호화 알고리즘 사용
      * 하드 코딩된 패스워드
      * 패스워드 평문저장
      * 취약한 패스워드 허용
  * 시간 및 상태
    * 동시 수행을 지원하는 병렬 시스템에서 시간 및 상태를 부적절하게 관리
    * 종류
      * 경쟁조건
      * 종료되지 않은 재귀함수
  * 에러처리
    * 에러를 처리하지 않거나 불충분 하게 처리
    * 종류
      * 오류메시지 정보 노출
      * 오류상황 대응 부재
      * 부적절한 예외 처리
  * 코드오류
    * 개발자가 작성한 코드의 오류
    * 종류
      * 널 포인터 역참조
      * 부적절한 자원해제
      * 해제된 자원 사용
      * 초기화되지 않은 변수 사용
  * 캡슐화
    * 중요한 데이터 또는 기능성을 불충분하게 캡슐화 하거나 잘못 사용해 발생
    * 종류
      * 잘못된 세션에 의한 정보 노출
      * 제거되지 않은 디버그 코드
      * 시스템정보 노출
      * 잘못된 접근 지정자
  * API 오용
    * 의도된 사용에 반하는 방법으로 API를 사용
    * 종류
      * DNS 에 의존한 보안 결정
      * 취약한 API 사용

### 백업 및 복구

* 개념
  * 정전 사이버 공격 및 다른 중단 사태에 대비하여 복구
  * 복구 시간 목표(RTO), 복구 지점 목표(RPO) 가 있다
* 지표
  * RP(Recorvery Period)
    * 업무 기능 복구까지 걸린 시간
  * RTO(Recovery Time Objective)
    * 중단 시점 부터 복구되어 가동될때 까지 시간 목표
    * 비즈니스가 감당 가능한 최대 시간수
  * RPO(Recovery Point Objective)
    * 재해 발생시 데이터 손실을 감당할수 있는 데이터 양
  * MTD(Maximum Tolerable Downtime)
    * 비즈니스 연속성 관리에서 사용되는 지표
* 백업과 복구를 위한 전략
  * 전체백업
    * 지정된 폴더의 모든 데이터를 백업
    * 시간 오래 걸림
  * 차등백업
    * 최근 전체 백업 이후 모든 변경/추가된 데이터를 백업
    * 복구에는 마지막 전체 백업과 최신 차등 백업이 필요
  * 증분백업
    * 최근 전체 백업 이후 변경된 데이터만 백업
  * 실시간 백업
    * 데이터 변경시마다 백업
  * 합성 백업
    * 기존 전체 백업본과 여러개의 증분 백업을 합하여 새로운 전체 백업 만듬

------------------------------

## SW 개발 보안 구현

### 암호 알고리즘

* 암호 알고리즘 용어
  * 평문
    * 해독 가능한 형태 메시지(암호화 전)
  * 암호문
    * 해독 불가능한 메시지(암호화)
  * 암호화
    * 평문을 암호문으로 변환
  * 복호화
    * 암호문을 평문으로 변환
  * 전자서명
    * 인터넷상 본임임을 중명하기 위한 서명 하는 수단
  * 양방향 암호문
    * 평문을 암호문으로 다시 평문으로 변경할수 있는 암호화
  * 단방향 암호화
    * 해싱을 이용하여 암호화하고 평문으로 복화는 불가능
* 암호 방식에 따른 분류
  * 양방향
    * 대칭키
      * Stream 방식
        * OTPad
        * RC4
      * Block 방식
        * Festel
        * SPN
    * 비대칭키
      * 인수분해
      * 이산대수
      * 타원 곡선 방정식
  * 단방향
    * HASH
      * MDC
      * MAC
* 대칭키 알고리즘
  * 암호화와 복호화에 동일한 키 사용
  * 혼돈과 확산 이용
* 장점
  * 빠른 암호화 속도 대용량 데이터 암호화에 적합
* 단점
  * 키 교환 문제
  * 증가하는 사용자 수에 따른 키 관리 어려움
  * n(n-1)/2 개의 키 필요
* 블록 암호화 알고리즘
  * DES
    * 64 비트 블록 단위로 암호화
    * 56비트 키 사용
    * 평문을 32 비트로 나누어 16회 반복 암호화
    * Feistel 구조 사용
  * 3DES
    * DES를 3회 반복
    * 112비트 키 사용
    * 두개의 키를 사용하여 순서대로 암호화, 복호화, 다시 암호화 사용
  * AES
    * 128비트 블록을 128, 192, 256비트 키로 암호화
    * 10, 12, 14회 라운드 사용
    * 1997년 NIST에 의해 표준화
    * SPN 구조
  * SEED
    * 한국에서 개발된 128 비트 및 256 비트 대칭키 블록 암호 알고리즘
  * ARIA
    * 한국에서 개발된 128, 192, 256 비트 대칭키 블록 암호 알고리즘
  * IDEA
    * 1990 년 스위스에서 개발된 PES 를 개선한 알고리즘
    * 128 비트 키와 64 비트 블록 크기 8라운드 구조
    * Festel 과 SPN 구조의 중간 형태
  * LEA
    * 한국에서 개발된 128 비트 대칭키 블록 암호 알고리즘
    * 빅데이터 처리에 적합
  * SKIPJACK
    * 미국 NSA 에서 개발한 Clipper 칩에 사용된 알고리즘
    * 전화기와 같은 음성을 암호화
* 스트림 암호 알고리즘
  * LFSR
    * 현재 상태에서 선형 연산을 통해 다음 상태를 생성
    * 스트림 암호 난수 생성
  * RC4
    * 로널드 라이베스트가 개발
  * A5
    * 시프트 레지스터를 기반으로 사용
* 비대칭키 암호
  * 암호화와 복호화에 서로 다른키 사용
  * 공개키 암호 방식
  * 키종류
    * 공개키 : 대중에게 공개
    * 개인키 : 개인이 관리하는 비밀키
  * 장점
    * 키 분배 관리가 용이
    * 사용자 수 증가에 따른 키 관리의 복잡성이 대칭키에 비해 낮다
  * 단점
    * 키 길이가 길고 연산 속도가 느리다
  * 비대칭키 알고리즘
    * 소인수 분해 기반
      * RSA
        * 가장 대표적인 공개키 암호 알고리즘
      * Rabin
        * 소인수 분해를 기반으로 하는 공개키 암호 알고리즘
    * 이산대수 기반
      * Diffie-Hellman
      * DSA
      * ELGamal
    * 타원 곡선
      * ECC
        * 타원 곡선상의 이산 대수 문제 이용한 암호 방식
  * 전자 서명
    * 인증서 형태로 발급되는 자신만의 디지털 인감 도장이며 안전한 디지털 서명
* 단방향 알고리즘
  * 해시를 이용한 암호화 과정
  * 평문을 암호화 할수 있지만 복호화는 불가능
  * 해시함수 특정
    * 역상 저항성
      * 주어진 해시값으로부터 원래의 입력값을 찾는것이 어려움
    * 제2역상 저항성
      * 특정 입력값에 대해 동일한 해시값을 생성하는 다른 입력값을 찾는것이 어려움
    * 충돌 저항성
      * 두개의 다른 입력값이 동일한 해시 값을 가지지 않도록 해야한다.
  * 종류
    * MD5
      * 128비트 해시함수
      * 1996년 결함 발견 2008년 부터 SSL 인증서를 변조 할수 있다고 발표
    * SHA
      * 미국 국가안보국에 의해 설계
      * SHA-1, SHA-256, SHA-384, SHA-512
    * HAS-160
      * 국내표준 전자서 알고리즘인 KCDSA 에 사용 되는 160비트 해시함수
  * 해시함수 결점
    * 무차별 대입공격
      * 정해진 범위내 모든 가능한 문자열을 이용해 암호를 해독하는 공격 방식
    * Rainbow Table 공격
      * 미리 계산된 해시 값들의 테이블을 이용하여 해시된 비밀번호 역추적하는 공격 방식
  * 해시함수 보안
    * 키스트레칭
      * 해시 과정을 여러번 반복하여 암호학적 취약점을 줄이고 무차별 대입공격에 대한 저항력 강화
    * 솔트
      * 해시값을 생성할때 랜덤한 값을 추가하여 해시값을 생성 레인보우 테이블 공격에 대한 저항력 강화