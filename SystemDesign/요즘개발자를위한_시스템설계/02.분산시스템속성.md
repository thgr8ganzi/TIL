## 분산 시스템 속성
<hr/>

### 데이터 처리 옵션
<hr/>

#### 쓰기 옵션

* 직렬 동기
  * 지연시간 길어짐
* 직렬 비동기
  * 비동가적 업데이트로 쓰기 지연 낮음
* 병렬비동기
  * 지연 시간 낮지만 쓰레드 사용률 높음
* 메시징 서비스 쓰기
  * 지연시간 짧고 요청 많아도 문제 없이 처리할수 있음

#### 읽기 옵션

* 하나의 레플리카
* 일부 레플리카에서만 읽기
* 모든 레플리카에서 읽기

### 일관성
<hr/>

#### 강한 일관성

* 분산시스템내 모든 노드가 항상 동일한 상태나 데이터를 참조하도록 함
* 분산 트랜잭션과 분산 잠금 방식 사용
* 팩소드, 래프트 알고리즘 적용
* 처리속도가 느리거나 시스템 가용성 떨어짐
* 은행 및 금융

#### 최종 일관성

* 일시적으로 데이터 불일치 허용 시간이 지나면 모든 노드 비동기 업데이트로 동일값 가짐
* 일시적 데이터 불일치가 생길수 있고 네트워크 지연, 메시지 속도, 레플리카 동기화 같은 문제 원인
* 충돌해결, 데이터복제, 가십 프로토콜로 해결가능
* 각 노드가 다른 데이터를 보여줄수 있어서, 충돌해결, 버전관리, 조정 알고리즘을 통해 일관된 상태로 도달하도록 한다.
* 가용성과 확장성이 강한 일관성 보다 높음

```
n = 레플리카 총개수
r = 데이터를 읽을때 참조할 레플리카수
w = 데이터 쓸때 반영할 레플리카수
r + w > n 을 만족할때 강한 일관성이 보장되면 그렇지 않을때 최종 일관성 보장
```

### 가용성
<hr/>

* 시스템 장애나 오류시 서비스를 지속할수 있는 능력
* 가용화 방식
  * 다중화
    * 여러 구성요소나 자원을 중복해둔다
  * 복제
    * 데이터를 여러 노드에 복제
  * 로드밸런싱
    * 여러 노드에 작업량 분배
  * 장애감지 및 복구
    * 하트비팅, 모니터링, 헬스체크등 기법 활용하여 감지 및 복구
  * 장애전환 및 복구
    * 문제가 발생한 노드를 자동으로 다른 노드로 돌림

### 파티션 허용성
<hr/>

* 네트워크 파티션
  * 네트워크 장애나 문제로 일부 노드나 컴포넌트가 시스템 다른 부분과 연결이 끊김
* 네트워크 장애나 파티션이 발생하더라도 시스템이 정상적으로 작동할수 있는 능력

### 지연시간
<hr/>

* 요청에 대한 응답이 돌아오기까지 걸리는 시간
* 시스템 노드간 거리, 네트워크 혼잡도, 각 노드 처리시간, 데이터 크기, 복잡성에 영향받음
* 지연시간 없앨수는 없음, 일관성과 장애 허용성에 따라 적절한 균형필요
* 지연시간 즐이는 기술
  * 네트워크 최적화
    * 네트워크 홉수 줄이기
  * 캐싱
    * 메모리 캐싱, CDN, DB 캐싱
  * 데이터 지역화
    * 엣지 컴퓨팅, 데이터복제, 콘텐츠 분산 전략
  * 비동기 통신
    * 메시지 큐, EDA 등 비동기, 병렬, 논블로킹 처리
  * 성능 튜닝

### 내구성
<hr/>

* 장애나 오류시 데이터 손실되지 않도록 보장하는 능력
* 복제, 백업

### 신뢰성
<hr/>

* 하드웨어 고장, 네트워크문제, 버그, 휴면에러등 장애가 발생해도 원래 기능 제공할수 있는 능력

### 장애 허용성
<hr/>

* 일부요소가 고장나서 제대로 돌아가지 않아도 정상적으로 작동하게 하는것
* 사람이 개입하지 않고 장애를 자동으로 감지하고 복구할수있도록 설계

### 확장성
<hr/>

* 사용자수나 데이터양이 증가해도 성능이나 신뢰성 유지하고 더많은 작업 처리 가능 능력
* 종류
  * 수직확장성
    * 장비의 성능을 높임
    * 장점
      * 단순성: 기존 시스템 아키텍처나 소프트웨어 최소한 변경
      * 소규모 작업 비용 효율: 적은 작업량은 여러노드 관리 필요 없음
    * 단점
      * 하드웨어 한계점: 업그레이드 한계성과 비용
      * 단일 장애점: 단일노드 장애발생시 전체 문제
  * 수평 확장성
    * 장비 여러대 추가
    * 장점
      * 용량 및 성능 증가: 노드 추가시 기존보다 많은 데이터 처리 가능
      * 장애 허용성: 여러노드기 때문에 장애 발생시 다른 노드가 대체가능
    * 단점
      * 분산조정: 여러 노드 분산되어 있어서 동기화 매커니즘 필요
      * 데이터 일관성: 데이터 일관성 유지 어려움
