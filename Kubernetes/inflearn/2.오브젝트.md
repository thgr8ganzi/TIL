
## 오브젝트

### pod

#### container

* 파드 안에는 하나의 독립적인 서비스를 구성할수 있는 컨테이너들이 있다.
* 그 컨테이너들은 서비스가 연결될수 있도록 포트를 가지고있다.
* 한 컨테이너가 포트를 하나이상 가질수 있지만 한 파드 내에서 컨테이너 끼리는 중복될수 없다
* 파드가 생성될때 고유의 ip 를 할당받는다.
* 쿠버네티스 클러스터 안에서만 유효한 ip 이다.
* 외부에서 접근할수 없다
* 파드가 삭제되어서 재 성성시 ip 가 바뀐다.
```
apiVersion: v1
kind: Pod
metadata:
  name: pod-1
spec:
  containers:
  - name: container1
    image: kubetm/p8000
    ports:
    - containerPort: 8000
  - name: container2
    image: kubetm/p8080
    ports:
    - containerPort: 8080
```

#### label

* 파드 뿐만 아니라 모든 오브젝트에 달수있고 파드에서 가장 많이 사용
* 목적에 따라 오브젝트를 분류한다.
* 라벨은 키와 값으로 구성되어있다.
* 한 파드에 여러개의 라벨을 달수있다.
```
apiVersion: v1
kind: Pod
metadata:
  name: pod-2
  labels:
    type: web
    lo: dev
spec:
  containers:
  - name: container
    image: kubetm/init
```
```
apiVersion: v1
kind: Service
metadata:
  name: svc-1
spec:
  selector:
    type: web
  ports:
  - port: 8080
```

#### node schedule

* 파드는 여러 노드중 한곳에 올라가야 하는데 어떤 노드에 올라갈지 결정하는것을 스케줄링이라고 한다.
```
apiVersion: v1
kind: Pod
metadata:
  name: pod-3
spec:
  nodeSelector:
    kubernetes.io/hostname: k8s-node1
  containers:
  - name: container
    image: kubetm/init
```
```
apiVersion: v1
kind: Pod
metadata:
  name: pod-4
spec:
  containers:
  - name: container
    image: kubetm/init
    resources:
      requests:
        memory: 2Gi
      limits:
        memory: 3Gi
        -- 메모리는 limit 를 넘길경우 바로 파드를 종료 시킨다.
        -- cpu 는 limit 를 넘길경우 requset 수치 까지 낮춘다 종료 x
```